package main

import (
	"encoding/json"

	"github.com/ofauchon/rfskipper-adapter/core"
	"github.com/ofauchon/rfskipper-adapter/decoder"
)

func main() {

	signal := `{"id":220,"count":303,"pulses":[210,210,210,210,210,200,210,210,210,200,220,200,210,210,210,200,210,420,620,630,210,200,210,210,420,410,210,200,430,410,210,210,210,200,210,210,210,200,210,210,210,200,210,210,420,410,220,200,210,210,210,200,210,210,420,200,210,210,210,420,200,210,210,210,210,200,210,210,210,200,210,210,210,200,430,410,210,210,410,210,210,200,210,210,210,210,210,410,420,210,210,410,420,200,210,420,420,410,210,210,420,200,210,210,210,410,210,210,420,410,210,210,210,200,420,410,210,210,210,200,420,210,210,210,210,410,420,210,210,410,210,200,210,210,420,210,210,200,220,200,210,410,210,210,420,200,210,210,210,410,420,420,410,420,210,200,210,210,210,200,220,200,220,200,210,210,210,200,210,210,210,200,420,420,210,200,210,210,210,200,220,200,210,200,220,200,210,210,210,200,210,210,210,210,210,200,210,210,210,200,220,200,210,210,210,200,220,200,210,210,210,200,210,210,210,200,210,210,210,200,220,200,210,210,210,200,220,200,210,210,210,200,210,210,210,200,210,210,210,210,210,210,410,210,210,200,220,410,210,200,210,210,210,210,210,200,210,210,210,200,220,200,420,410,210,210,210,200,210,210,220,200,210,200,220,200,420,410,420,420,410,210,210,210,210,200,210,210,210,200,210,420,410,420,420,200,220,410,210,200,210,210,80]}`
	var p core.PulseTrain
	json.Unmarshal([]byte(signal), &p)

	d := decoder.NewTicPulsesV2Decoder()

	d.Decode(p)

}
